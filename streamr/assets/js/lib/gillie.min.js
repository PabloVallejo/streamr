/*
* Gillie 0.2 | http://pablovallejo.github.io/gillie
*/
(function(k,r){var l=!1,s=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/,g=function(){},m=function(b){k.each([].slice.call(arguments,1),function(c,a){if(a)for(var d in a)b[d]=a[d]});return b},p=g.Events={on:function(b,c,a){if(!n(this,"on",b,[c,a])||!c)return this;this._events||(this._events={});(this._events[b]||(this._events[b]=[])).push({callback:c,context:a,ctx:a||this});return this},trigger:function(b){if(!this._events)return this;var c=[].slice.call(arguments,1);if(!n(this,"trigger",b,c))return this;
var a=this._events[b];if(a){var d,e=-1,f=a.length,g=c[0],h=c[1],k=c[2];switch(c.length){case 0:for(;++e<f;)(d=a[e]).callback.call(d.ctx);break;case 1:for(;++e<f;)(d=a[e]).callback.call(d.ctx,g);break;case 2:for(;++e<f;)(d=a[e]).callback.call(d.ctx,g,h);break;case 3:for(;++e<f;)(d=a[e]).callback.call(d.ctx,g,h,k);break;default:for(;++e<f;)(d=a[e]).callback.apply(d.ctx,c)}}return this}},q=/\s+/,n=function(b,c,a,d){if(a){if("object"===typeof a){for(var e in a)b[c].apply(b,[e,a[e]].concat(d));return!1}if(q.test(a)){a=
a.split(q);e=0;for(var f=a.length;e<f;e++)b[c].apply(b,[a[e]].concat(d));return!1}return!0}},h=g.Handler=function(b){this.initialize&&this.initialize.apply(this,arguments);this.delegateEvents()},t=/^(\S+)\s*(.*)$/;m(h.prototype,p,{bind:function(b,c){return function(){return b.apply(c,arguments)}},delegateEvents:function(b){if(!b&&!(b=this.events))return this;for(var c in b){var a=b[c];if(a=this[b[c]]){var d=c.match(t),e=d[1],d=d[2],f=this.el||document,a=this.bind(a,this);if(""===d)k(f).on(e,a);else k(f).on(e,
d,a)}}return this}});h=g.Controller=function(b){this.initialize&&this.initialize()};m(h.prototype,p);g.Model=h;g.View=h;g.Handler.extend=g.Model.extend=g.Controller.extend=g.View.extend=function(b){function c(){l||d.apply(this,arguments)}var a=this.prototype,d=this;l=!0;var e=new this;l=!1;for(var f in b)e[f]="function"==typeof b[f]&&"function"==typeof a[f]&&s.test(b[f])?function(b,c){return function(){var d=this._super;this._super=a[b];var e=c.apply(this,arguments);this._super=d;return e}}(f,b[f]):
b[f];c.prototype=e;c.prototype.constructor=c;c.extend=arguments.callee;return c};r.Gillie=g})(jQuery,this);